<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg" color="#ffffff">
  <link rel="shortcut icon" href="/assets/images/favicon.ico">

  <link rel="stylesheet" href="{{ '/assets/stylesheets/light.css' | relative_url }}" id="theme_source">
  {% if site.data.theme.skin_dark %}
    <link rel="stylesheet" href="{{ '/assets/stylesheets/dark.css' | relative_url }}" id="theme_source_dark">
    <script>
      if (sessionStorage.getItem('theme') === null) {
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          sessionStorage.setItem('theme', 'dark');
        }
        else{
          sessionStorage.setItem('theme', 'light');
        }
      }

      let theme = sessionStorage.getItem('theme');
      if(theme === "dark"){
        document.getElementById('theme_source').setAttribute('rel', 'stylesheet alternate');
        sessionStorage.setItem('theme', 'dark');
      }
      else
      {
        document.getElementById('theme_source_dark').setAttribute('rel', 'stylesheet alternate'); 
        sessionStorage.setItem('theme', 'light');
      }
    </script>
  {% endif %}

  {% if site.plugins contains 'jekyll-seo-tag' or site.gems contains 'jekyll-seo-tag' %}
    {% comment %}
      Add metadata for search engines and social networks if jekyll-seo-tag plugin is enabled
    {% endcomment %}
    {% include head-seo.html %}
  {% else %}
    <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
    <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    <link rel="canonical" href="{{ page.url | replace:'index.html', '' | absolute_url }}">
  {% endif %}

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics_ga4 }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics_ga4 }}');
  </script>
  <script src="https://www.google.com/recaptcha/api.js?render=6LcIDdweAAAAADBzIQxefOW89FJVX1Ie3DcFhEEm"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  {% if site.data.theme.google_fonts %}
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family={% for font in site.data.theme.google_fonts %}{{ font.name | replace: ' ', '+' }}{% if font.weights %}:{% endif %}{{ font.weights | remove: ' ' }}{% if forloop.last != true %}|{% endif %}{% endfor %}">
  {% endif %}

  {% if site.plugins contains 'jekyll-feed' or site.gems contains 'jekyll-feed'%}
    {% comment %}
      Add Atom feed link if jekyll-feed plugin is enabled
    {% endcomment %}
    {% include head-feed.html %}
  {% endif %}

  <script src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/js/swiffy-slider.min.js" crossorigin="anonymous" defer></script>
  <link href="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/css/swiffy-slider.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
